<launch>
    <!-- -->
    <arg name="obj_num" value="10" />
    <arg name="drone_id" value="0"/>

    <arg name="map_size_x_" value="100"/>
    <arg name="map_size_y_" value="50"/>
    <arg name="map_size_z_" value="3.0"/>
    <arg name="odometry_topic" value="/vins_fusion/imu_propagate"/>        
    
    
    <!-- camera pose: transform of camera frame in the world frame -->
    <!-- depth topic: depth image, 640x480 by default -->
    <!-- don't set cloud_topic if you already set these ones! -->
    <arg name="camera_pose_topic" value="nouse1"/>
    <arg name="depth_topic" value="/camera/depth/image_rect_raw"/>
    <!-- topic of point cloud measurement, such as from LIDAR  -->
    <!-- don't set camera pose and depth, if you already set this one! -->
    <arg name="cloud_topic" value="nouse2"/>
    <!-- intrinsic params of the depth camera -->
    <arg name="cx" value="323.3316345214844"/>
    <arg name="cy" value="234.95498657226562"/>
    <arg name="fx" value="384.39654541015625"/>
    <arg name="fy" value="384.39654541015625"/>

    <node pkg="test_map" name="test_map_node" type="test_map_node" output="screen">
        <param name="grid_map/resolution"      value="0.15" /> 
        <param name="grid_map/map_size_x"   value="$(arg map_size_x_)" /> 
        <param name="grid_map/map_size_y"   value="$(arg map_size_y_)" /> 
        <param name="grid_map/map_size_z"   value="$(arg map_size_z_)" /> 
        <param name="grid_map/local_update_range_x"  value="5.5" /> 
        <param name="grid_map/local_update_range_y"  value="5.5" /> 
        <param name="grid_map/local_update_range_z"  value="4.5" /> 
        <param name="grid_map/obstacles_inflation"     value="0.299" /> 
        <param name="grid_map/local_map_margin" value="10"/>
        <param name="grid_map/ground_height"        value="-0.01"/>
        <!-- camera parameter -->
        <param name="grid_map/cx" value="$(arg cx)"/>
        <param name="grid_map/cy" value="$(arg cy)"/>
        <param name="grid_map/fx" value="$(arg fx)"/>
        <param name="grid_map/fy" value="$(arg fy)"/>
        <!-- depth filter -->
        <param name="grid_map/use_depth_filter" value="true"/>
        <param name="grid_map/depth_filter_tolerance" value="0.15"/>
        <param name="grid_map/depth_filter_maxdist"   value="5.0"/>
        <param name="grid_map/depth_filter_mindist"   value="0.2"/>
        <param name="grid_map/depth_filter_margin"    value="2"/>
        <param name="grid_map/k_depth_scaling_factor" value="1000.0"/>
        <param name="grid_map/skip_pixel" value="2"/>
        <!-- local fusion -->
        <param name="grid_map/p_hit"  value="0.65"/>
        <param name="grid_map/p_miss" value="0.35"/>
        <param name="grid_map/p_min"  value="0.12"/>
        <param name="grid_map/p_max"  value="0.90"/>
        <param name="grid_map/p_occ"  value="0.80"/>
        <param name="grid_map/min_ray_length" value="0.3"/>
        <param name="grid_map/max_ray_length" value="5.0"/>
    
        <param name="grid_map/visualization_truncate_height"   value="1.8"/>
        <param name="grid_map/show_occ_time"  value="false"/>
        <param name="grid_map/pose_type"     value="2"/>  
        <param name="grid_map/frame_id"      value="world"/>      
    </node>
</launch>